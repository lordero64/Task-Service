# Task Service - –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∞–º–∏ –∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏

## Task Service ‚Äî —ç—Ç–æ –∫–æ–º–ø–ª–µ–∫—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∞–º–∏, —Å–æ—Å—Ç–æ—è—â–∞—è –∏–∑ –¥–≤—É—Ö –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤:
**Message Service (–ø–æ—Ä—Ç 8080)** ‚Äî –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π —Å –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –¥–æ—Å—Ç–∞–≤–∫–æ–π —á–µ—Ä–µ–∑ Kafka

**Executor Service (–ø–æ—Ä—Ç 8082)** ‚Äî –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á

## ‚öôÔ∏è –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
1. –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–∞–ø—Ä—è–º—É—é:
```bash
curl -X POST http://localhost:8080/api/messages \
  -H "Content-Type: application/json" \
  -d '{"content": "–ü—Ä–∏–≤–µ—Ç, –º–∏—Ä!"}'
```

2. –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–¥–∞—á–∏ —á–µ—Ä–µ–∑ Executor Service:
```bash
# DUMMY –∑–∞–¥–∞—á–∞ (—Ç–æ–ª—å–∫–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ)
curl -X POST http://localhost:8082/api/executor/tasks \
  -H "Content-Type: application/json" \
  -d '{"type":"DUMMY","taskId":"test-1","message":"–¢–µ—Å—Ç–æ–≤–∞—è –∑–∞–¥–∞—á–∞"}'

# REAL –∑–∞–¥–∞—á–∞ (–æ—Ç–ø—Ä–∞–≤–∫–∞ –≤ Message Service)
curl -X POST http://localhost:8082/api/executor/tasks \
  -H "Content-Type: application/json" \
  -d '{"type":"REAL","taskId":"test-2","data":"–î–∞–Ω–Ω—ã–µ –¥–ª—è Message Service"}'
```

## üèóÔ∏è –ö–ª—é—á–µ–≤—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
**Message Service:**
- Spring Boot 3.2 + Java 21
- PostgreSQL ‚Äî —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- Kafka ‚Äî –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π
- Transactional Outbox Pattern ‚Äî –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞
- Spring Data JPA ‚Äî —Ä–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö

**Executor Service:**
- FixedThreadPool ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–∞–º–∏
- PriorityBlockingQueue ‚Äî –æ—á–µ—Ä–µ–¥—å —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏
- RestTemplate ‚Äî HTTP –∫–ª–∏–µ–Ω—Ç
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ ‚Äî –±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –∫–ª–∏–µ–Ω—Ç–∞

## üîÑ –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤
–ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö:
* –ö–ª–∏–µ–Ω—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–¥–∞—á—É –≤ Executor Service (8082)
* Executor Service –ø–æ–º–µ—â–∞–µ—Ç –∑–∞–¥–∞—á—É –≤ –æ—á–µ—Ä–µ–¥—å —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º
* FixedThreadPool –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–¥–∞—á–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –ø–æ—Ç–æ–∫–∞—Ö
* REAL –∑–∞–¥–∞—á–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç –¥–∞–Ω–Ω—ã–µ –≤ Message Service (8080)
* Message Service —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ PostgreSQL
* Transactional Outbox –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –æ—Ç–ø—Ä–∞–≤–∫—É —Å–æ–±—ã—Ç–∏—è –≤ Kafka
* Kafka Consumers –ø–æ–ª—É—á–∞—é—Ç —Å–æ–±—ã—Ç–∏—è –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏


## üéØ –ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ Executor Service
**Executor Service** ‚Äî —ç—Ç–æ –æ—Ç–¥–µ–ª—å–Ω—ã–π Spring Boot –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–¥–∞—á. –°–µ—Ä–≤–∏—Å –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–∞–¥–∞—á–∏ —á–µ—Ä–µ–∑ REST API, –ø–æ–º–µ—â–∞–µ—Ç –∏—Ö –≤ –æ—á–µ—Ä–µ–¥—å —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ–º —Ä–µ–∂–∏–º–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º FixedThreadPool.

–û—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–ª—å: –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ —Ü–µ–ª–µ–≤–æ–π —Å–µ—Ä–≤–∏—Å (Message Service) —Å –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –¥–æ—Å—Ç–∞–≤–∫–æ–π –∏ retry-–º–µ—Ö–∞–Ω–∏–∑–º–æ–º.

**‚ú® –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**
| –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å |	–û–ø–∏—Å–∞–Ω–∏–µ |
|---------------|-----------------------------------------|
| üöÄ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å	|–ö–ª–∏–µ–Ω—Ç –Ω–µ –∂–¥—ë—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á–∏|
| ‚ö° –ú–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å	|FixedThreadPool –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏|
| üìä –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞—è –æ—á–µ—Ä–µ–¥—å	|PriorityBlockingQueue —Å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π –∑–∞–¥–∞—á|
| üîÑ Retry-–º–µ—Ö–∞–Ω–∏–∑–º	|–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö|
| üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥	|REST API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏|
| üõ°Ô∏è –û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å	|Graceful shutdown –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫|
| üìã –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å|

### üé™ –¢–∏–ø—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö –∑–∞–¥–∞—á
1. DUMMY Task ‚Äî –ü—Ä–æ—Å—Ç–∞—è –∑–∞–¥–∞—á–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
‚úÖ –ü—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç–µ–∫—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ

‚úÖ –õ–æ–≥–∏—Ä—É–µ—Ç –≤ –∫–æ–Ω—Å–æ–ª—å —Å —É—Ä–æ–≤–Ω–µ–º INFO

‚úÖ –ò–º–∏—Ç–∏—Ä—É–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É (–∑–∞–¥–µ—Ä–∂–∫–∞ 1 —Å–µ–∫—É–Ω–¥–∞)

‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã (1-10)

2. REAL Task ‚Äî –ó–∞–¥–∞—á–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö
‚úÖ –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏

‚úÖ –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç POST –∑–∞–ø—Ä–æ—Å –≤ —Ü–µ–ª–µ–≤–æ–π —Å–µ—Ä–≤–∏—Å

‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ (retry)

‚úÖ –≠–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –ø–æ–ø—ã—Ç–∫–∞–º–∏

‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å–ø–µ—Ö–∞/–æ—à–∏–±–∫–∏


## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã
–î–∏–∞–≥—Ä–∞–º–º–∞ –ø–æ—Ç–æ–∫–∞ –¥–∞–Ω–Ω—ã—Ö

<img width="1280" height="3665" alt="deepseek_mermaid_20251202_7e702d" src="https://github.com/user-attachments/assets/07778483-07ee-486f-bcba-b4a4b49e734b" />

```
executor-service/
‚îú‚îÄ‚îÄ src/main/java/com/example/executorservice/
‚îÇ   ‚îú‚îÄ‚îÄ ExecutorServiceApplication.java     # üì¶ –ì–ª–∞–≤–Ω—ã–π –∫–ª–∞—Å—Å
‚îÇ   ‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ AppConfig.java                  # ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Spring
‚îÇ   ‚îú‚îÄ‚îÄ controller/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ TaskExecutorController.java     # üåê REST –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ service/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ TaskExecutorService.java        # üß† –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ task/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Task.java                       # üìù –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∑–∞–¥–∞—á–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ DummyTask.java                  # üé≠ DUMMY –∑–∞–¥–∞—á–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ RealTask.java                   # üöÄ REAL –∑–∞–¥–∞—á–∞
‚îÇ   ‚îî‚îÄ‚îÄ dto/
‚îÇ       ‚îú‚îÄ‚îÄ TaskRequest.java                # üìÑ –ë–∞–∑–æ–≤—ã–π DTO
‚îÇ       ‚îú‚îÄ‚îÄ DummyTaskRequest.java           # üìÑ DTO –¥–ª—è DUMMY
‚îÇ       ‚îî‚îÄ‚îÄ RealTaskRequest.java            # üìÑ DTO –¥–ª—è REAL
‚îú‚îÄ‚îÄ src/main/resources/
‚îÇ   ‚îî‚îÄ‚îÄ application.yml                     # üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ pom.xml                                 # üì¶ Maven –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îî‚îÄ‚îÄ README.md                               # üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
üìã –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
Java 21 –∏–ª–∏ –≤—ã—à–µ

Maven 3.8 –∏–ª–∏ –≤—ã—à–µ

Message Service –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 8080

## ‚ö° –®–∞–≥–∏ –∑–∞–ø—É—Å–∫–∞
1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Å–±–æ—Ä–∫–∞
```bash
git clone <repository-url>
cd executor-service
mvn clean package
```
2. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞
```bash
# –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ Maven
mvn spring-boot:run

# –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ JAR —Ñ–∞–π–ª
java -jar target/executor-service-1.0.0.jar
```

3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
```bash
curl http://localhost:8082/api/executor/health
```

–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:

```json
{
  "status": "UP",
  "message": "ExecutorService is running"
}
```

## üì° API Endpoints
üîå –î–æ—Å—Ç—É–ø–Ω—ã–µ endpoints
| –ú–µ—Ç–æ–¥ |	Endpoint |	–û–ø–∏—Å–∞–Ω–∏–µ
|-|--------|---|
|POST |	/tasks	| –û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–æ–≤–æ–π –∑–∞–¥–∞—á–∏
|GET	| /stats	| –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
|GET	| /health	| –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–µ—Ä–≤–∏—Å–∞
